{"ast":null,"code":"import _classCallCheck from \"/Users/escher/triangle-type-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/escher/triangle-type-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nexport var BaseShape =\n/*#__PURE__*/\nfunction () {\n  function BaseShape() {\n    _classCallCheck(this, BaseShape);\n\n    this._typeChecks = new Map();\n    this._objectTypes = [];\n  }\n\n  _createClass(BaseShape, [{\n    key: \"getTypes\",\n    value: function getTypes() {\n      return this._objectTypes.slice();\n    }\n  }, {\n    key: \"hasType\",\n    value: function hasType(type) {\n      return this._objectTypes.indexOf(type) > -1;\n    }\n  }, {\n    key: \"addTypeCheck\",\n    value: function addTypeCheck(checkFunc, type) {\n      this._typeChecks.set(checkFunc, type);\n    }\n  }, {\n    key: \"commitValues\",\n    value: function commitValues() {\n      var _this = this;\n\n      this._objectTypes = [];\n\n      this._typeChecks.forEach(function (type, checkFunc) {\n        if (checkFunc()) {\n          _this._objectTypes.push(type);\n        }\n      });\n    }\n  }]);\n\n  return BaseShape;\n}();","map":{"version":3,"sources":["/Users/escher/triangle-type-react-app/src/triangle/BaseShape.ts"],"names":["BaseShape","_typeChecks","Map","_objectTypes","slice","type","indexOf","checkFunc","set","forEach","push"],"mappings":";;AAEA,WAAaA,SAAb;AAAA;AAAA;AAAA;AAAA;;AAAA,SACYC,WADZ,GACgD,IAAIC,GAAJ,EADhD;AAAA,SAGYC,YAHZ,GAGoC,EAHpC;AAAA;;AAAA;AAAA;AAAA,+BAK+B;AACvB,aAAO,KAAKA,YAAL,CAAkBC,KAAlB,EAAP;AACH;AAPL;AAAA;AAAA,4BASmBC,IATnB,EASmC;AAC3B,aAAO,KAAKF,YAAL,CAAkBG,OAAlB,CAA0BD,IAA1B,IAAkC,CAAC,CAA1C;AACH;AAXL;AAAA;AAAA,iCAa2BE,SAb3B,EAaoDF,IAbpD,EAaiE;AACzD,WAAKJ,WAAL,CAAiBO,GAAjB,CAAqBD,SAArB,EAAgCF,IAAhC;AACH;AAfL;AAAA;AAAA,mCAiBkC;AAAA;;AAC1B,WAAKF,YAAL,GAAoB,EAApB;;AACA,WAAKF,WAAL,CAAiBQ,OAAjB,CAAyB,UAACJ,IAAD,EAASE,SAAT,EACzB;AACI,YAAIA,SAAS,EAAb,EAAiB;AACb,UAAA,KAAI,CAACJ,YAAL,CAAkBO,IAAlB,CAAuBL,IAAvB;AACH;AACJ,OALD;AAMH;AAzBL;;AAAA;AAAA","sourcesContent":["type CheckFunction = () => boolean;\n\nexport class BaseShape <T> {\n    private _typeChecks:Map<CheckFunction, T> = new Map<CheckFunction, T>();\n\n    private _objectTypes:Array<T> = [];\n\n    public getTypes():Array<T> {\n        return this._objectTypes.slice();\n    }\n\n    public hasType(type:T):boolean { \n        return this._objectTypes.indexOf(type) > -1;\n    }\n\n    protected addTypeCheck(checkFunc:CheckFunction, type:T):void {\n        this._typeChecks.set(checkFunc, type);\n    }\n\n    protected commitValues():void { \n        this._objectTypes = [];\n        this._typeChecks.forEach((type:T, checkFunc:CheckFunction) => \n        {\n            if (checkFunc()) { \n                this._objectTypes.push(type);\n            }\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}